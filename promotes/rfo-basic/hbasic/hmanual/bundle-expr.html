<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta content="HTML Tidy for HTML5 for Linux version 5.6.0" name="generator">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bundle Expressions</title>
  <link rel="stylesheet" href="main.css" type="text/css">
</head>
<body vlink="#990099" link="#000099" alink="#000099">
  <a href="../hbasic.html">hBasic</a> &gt; <a href="index.html">hManual</a> &gt; <a href="commands.html">Commands</a> &gt; <a href="bundles.html">Bundles</a> &gt; Bundle Expressions<br>
  <br style="font-family: Helvetica,Arial,sans-serif;">
  <table style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: left; font-family: Helvetica,Arial,sans-serif;" cellspacing="2" cellpadding="8">
    <tbody>
      <tr>
        <td style="vertical-align: top;">
          <div style="text-align: right;">
            <big>hBasic Manual</big><br>
          </div><span style="color: rgb(0, 0, 153);"><font size="+2">Bundle Expressions</font></span><br>
          <br>
          <table style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;" cellspacing="2" cellpadding="2" border="0">
            <tbody>
              <tr>
                <td style="vertical-align: top;"><a href="#intro">Introduction</a><br></td>
                <td style="vertical-align: top;">What are Bundle
                Expressions ?</td>
              </tr>
              <tr>
                <td style="vertical-align: top; width: 30%;">
                <a href="#syntax">Syntax</a></td>
                <td style="vertical-align: top;"><br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;"><a href="#chained">Chained Bundles<font size="+1"><br></font></a></td>
                <td style="vertical-align: top;">Bundles Indexes
                within bundles<a href="file:///home/batman/upload/web/promotes/rfo-basic/hbasic/hmanual/bundle-expr.html#example"><br>
                </a></td>
              </tr>
              <tr>
                <td style="vertical-align: top;"><a href="#auto-create">Auto-Create</a><br></td>
                <td style="vertical-align: top;">Rules for bundles
                and keys<br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;"><a href="#passing">Parameter Passing</a></td>
                <td style="vertical-align: top;">Passing
                expressions to functions and commands<br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;"><br></td>
                <td style="vertical-align: top;"><br></td>
              </tr>
              <tr>
                <td style="vertical-align: top; text-align: right;"><a href="#example">Example</a></td>
                <td style="vertical-align: top;">An example using
                Bundle Expressions and chaining<br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;">Other<br></td>
                <td style="vertical-align: top;"><br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;"><a href="bundles.html">Bundles</a><br></td>
                <td style="vertical-align: top;"><br></td>
              </tr>
            </tbody>
          </table><br>
        </td>
      </tr>
      <tr>
        <td>
          <big style="color: rgb(0, 0, 153);"><a name="intro" id="fn_import"></a>Introduction<br></big>
          <div style="margin-left: 40px;">
            <br>
            The interpreter will now accept Bundle Expressions as
            an alterntative to <span style="color: rgb(0, 0, 153);">BUNDLE.GET</span> and
            <span style="color: rgb(0, 0, 153);">BUNDLE.PUT</span>.<br>
          </div>
          <div style="margin-left: 40px;">
            e.g<br>
          </div>
          <div style="margin-left: 80px;">
            <span style="font-family: Courier New, Courier, monospace;">bundle.create
            myBundle</span><br>
            <br>
            <span style="font-family: Courier New, Courier, monospace;"><span style="font-family: Courier New, Courier, monospace;">
            myBundle.</span><span style="color: rgb(102, 0, 0);"><span style="font-family: Courier New, Courier, monospace;">key1</span></span>&nbsp;&nbsp;&nbsp;
            = a&nbsp;&nbsp;&nbsp; <span style="font-family: Helvetica, Arial, sans-serif;"><span style="color: rgb(102, 102, 102);">
            %</span></span> <span style="font-family: Helvetica, Arial, sans-serif;"><span style="color: rgb(102, 102, 102);">
            <span style="color: rgb(102, 102, 102);"><span style="font-style: italic;">i.e</span>&nbsp;</span>
            bundle.put myBundle,"key1",a</span></span><br>
            <span style="font-family: Courier New, Courier, monospace;">myBundle.</span><span style="color: rgb(153, 51, 0);"><span style="font-family: Courier New, Courier, monospace;">"Key
            1"</span></span><span style="color: rgb(0, 102, 0);"><span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 0);"><span style="font-family: Helvetica, Arial, sans-serif;">&nbsp;&nbsp;</span></span></span></span>
            = a&nbsp;&nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">%</span> <span style="color: rgb(102, 102, 102);"><span style="color: rgb(102, 102, 102);"><span style="font-style: italic;">i.e</span>&nbsp;</span>
            bundle.put myBundle,"Key 1",a</span><span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(102, 102, 102);"><br>

            <br></span> a = myBundle.</span><span style="color: rgb(102, 0, 0);"><span style="font-family: Courier New, Courier, monospace;">key1</span></span><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% <span style="font-style: italic;">i.e</span> &nbsp;&nbsp;
            bundle.get myBundle,"key1",a</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">a =
            myBundle.</span><span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(153, 51, 0);">"</span><span style="color: rgb(153, 51, 0);">Key
            1</span><span style="color: rgb(153, 51, 0);">"</span>&nbsp;&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">%</span>
            <span style="color: rgb(102, 102, 102);"><span style="color: rgb(102, 102, 102);"><span style="font-style: italic;">i.e</span> &nbsp;&nbsp;</span>
            bundle.get myBundle,"Key 1",a</span><span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 102, 0);"><br>
            </span></span><br>
          </div>
          <div style="margin-left: 40px;">
            What are Bundle Expressions ?<br>
            <div style="margin-left: 40px;">
              <ul>
                <li>Expressions that represent a Bundle
                Item.<br></li>
                <li>Temporary bundle 'variables' which can take the
                place of real variables in Basic expressions.</li>
                <li>Only exist for the lifetime of the
                instruction.</li>
                <li>Do not exist in the real variables symbol
                table.</li>
              </ul>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top;">
          <span style="color: rgb(0, 0, 153);"><font size="+1"><a name="syntax" id="syntax"></a>Syntax</font></span><br>
          <br>
          <table style="text-align: left; width: 80%; margin-left: 40px;" cellspacing="0" cellpadding="5" border="0">
            <tbody>
              <tr>
                <td style="vertical-align: middle; white-space: nowrap; text-align: center;">
                format<br></td>
                <td style="vertical-align: middle; text-align: center;">
                example</td>
                <td style="vertical-align: middle; text-align: center;">
                type<br></td>
                <td style="vertical-align: middle; width: 50%; text-align: left;">
                comment<br></td>
              </tr>
              <tr>
                <td style="vertical-align: middle; white-space: nowrap; text-align: center;">
                nvar. <span style="color: rgb(102, 51, 0);"><span style="color: rgb(102, 0, 0);">key</span></span></td>
                <td style="vertical-align: middle; white-space: nowrap; text-align: center;">
                &nbsp;myBundle.<span style="color: rgb(102, 0, 0);">key1</span><br></td>
                <td style="vertical-align: middle; text-align: center;">
                <span style="color: rgb(0, 0, 153);">simple
                key</span></td>
                <td style="vertical-align: middle;">key always
                converted to lowercase.<br>
                No spaces allowed.<br></td>
              </tr>
              <tr>
                <td style="vertical-align: middle; white-space: nowrap; text-align: center;">
                nvar. "<span style="color: rgb(102, 0, 0);">key</span>"</td>
                <td style="vertical-align: middle; white-space: nowrap; text-align: center;">
                &nbsp;myBundle.<span style="color: rgb(153, 51, 0);">"</span><span style="color: rgb(153, 51, 0);">Key 1</span><span style="color: rgb(153, 51, 0);">"</span><br></td>
                <td style="vertical-align: middle; text-align: center;">
                <span style="color: rgb(0, 0, 153);">quoted
                key</span></td>
                <td style="vertical-align: middle;">key can be
                mixed case and contain spaces.<br>
                <br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;">nvar.<span style="color: rgb(102, 0, 0);">k1</span>{.<span style="color: rgb(102, 0, 0);">k2</span>..}<br></td>
                <td style="vertical-align: top;">
                myBundle.<span style="color: rgb(102, 0, 0);">k1.k2.k3<br></span>
                myBundle.<span style="color: rgb(102, 0, 0);">k1.<span style="color: rgb(153, 51, 0);">"K2"</span>.k3</span></td>
                <td style="vertical-align: top; text-align: center;">
                <span style="color: rgb(0, 0, 153);">chained</span><br></td>
                <td style="vertical-align: top;">bundle indexes within
                bundles leading to final key<br></td>
              </tr>
            </tbody>
          </table><br>
          <div style="margin-left: 40px;">
            <span style="text-decoration: underline;">Nvars</span><br>
          </div>
          <div style="margin-left: 80px;">
            Expressions must begin with a numeric variable
            (nvar).<br>
            This nvar must contain an <span style="text-decoration: underline;">existing bundle
            index</span>.<br>
            The nvar must be followed by a dot "." and then the
            key.<br>
          </div><br>
          <div style="margin-left: 40px;">
            <span style="text-decoration: underline;">Keys<br></span>
          </div>
          <div style="margin-left: 80px;">
            e.g<br>
            <div style="margin-left: 40px;">
              <span style="font-family: Courier New, Courier, monospace;">mybundle.<span style="color: rgb(102, 0, 0);">key1</span><br>
              </span> <span style="font-family: Courier New, Courier, monospace;">mybundle.</span><span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 102, 0);"><span style="color: rgb(153, 51, 0);">"Key
              1"</span><br>
              <br></span></span>
            </div>
          </div>
          <div style="margin-left: 80px;">
            <span style="text-decoration: underline;"><span style="color: rgb(0, 0, 153);">simple key</span></span><br>
          </div>
          <div style="margin-left: 80px;">
            The <span style="color: rgb(0, 0, 153);"><span style="color: rgb(102, 0, 0);">first form</span></span> has
            <span style="text-decoration: underline;">no
            quotes</span> surrounding the key and conforms to rules
            simiar to variable names;<br>
            <br>
          </div>
          <div style="margin-left: 40px;"></div>
          <div style="margin-left: 80px;">
            Will be converted to lowercase,<br>
            Cannot have spaces,<br>
            Must begin with a letter, but can have numbers.<br>
            The only allowable special characters are : "_"&nbsp;
            or "@" or '#"<br>
            A '$' is allowed at the end of the key if it is the
            <span style="text-decoration: underline;">only
            key</span> or <span style="text-decoration: underline;">last key</span> (see
            <a href="#chained">Chained Bundles</a>).<br>
          </div>
          <div style="margin-left: 120px;">
            <br>
          </div>
          <div style="margin-left: 40px;"></div>
          <div style="margin-left: 80px;">
            <span style="text-decoration: underline;"><span style="color: rgb(0, 0, 153);">quoted key</span></span><br>
            The <span style="color: rgb(153, 51, 0);">second
            form</span> <span style="text-decoration: underline;">has quotes</span> and the
            key can have any characters, including spaces within
            the quotes.<br>
            <br>
          </div>
          <div style="margin-left: 80px;">
            Is case sensitive,<br>
            Is fully compatible with <span style="color: rgb(0, 0, 153);">BUNDLE.PUT/GET</span> (mixed
            cased keys).<br>
            Note that this second form key cannot be substituted
            with a string expression.<br>
            It must be a&nbsp; <span style="color: rgb(153, 51, 0);">"<span style="text-decoration: underline;">literal quoted string
            constant</span></span><span style="color: rgb(153, 51, 0);">"</span>.<br>
          </div>
          <div style="margin-left: 80px;"></div><br>
        </td>
      </tr>
      <tr>
        <td valign="top">
          <big style="color: rgb(0, 0, 153);"><a name="chained" id="printat"></a></big><font size="+1"><span style="color: rgb(0, 0, 153);">Chained
          Bundles</span></font><br>
          <br>
          <div style="margin-left: 40px;">
            e.g<br>
            <div style="margin-left: 40px;">
              <span style="font-family: Courier New, Courier, monospace;">myBundle.</span><span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(102, 0, 0);">k1.k2.k3</span></span><br>
            </div><br>
            Any bundle can contain a numeric item which is an index
            to another bundle.<br>
            Traditionally, this can be done manually;<br>
            <br>
            <div style="margin-left: 40px;">
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.put</span></span> <span style="font-family: Courier New, Courier, monospace;">b2,<span style="color: rgb(153, 51, 0);">"k2"</span>,<span style="color: rgb(0, 102, 0);">"Hello"</span></span>
              % create a bundle item<span style="font-family: Courier New, Courier, monospace;"><span style="font-family: Courier New, Courier, monospace;"><br>
              </span></span> <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.put</span></span> <span style="font-family: Courier New, Courier, monospace;">b1,<span style="color: rgb(153, 51, 0);">"k1"</span>,b2</span>
              <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
              % put the bundle into another bundle (chain
              it)<span style="font-family: Courier New, Courier, monospace;"><br>
              <br></span> <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.get</span></span> <span style="font-family: Courier New, Courier, monospace;">b1,<span style="color: rgb(153, 51, 0);">"k1"</span>,b</span>
              <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              % access b1 to get stored bundle index<span style="font-family: Courier New, Courier, monospace;"><br></span>
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.get</span></span> <span style="font-family: Courier New, Courier, monospace;">b,<span style="color: rgb(153, 51, 0);">"k2"</span>,a$</span><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              % access final key<span style="font-family: Courier New, Courier, monospace;"><br></span>
              <span style="font-family: Courier New, Courier, monospace;">PRINT
              a$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              % "Hello"<br>
              <br>
            </div>The equivalent program using bundle expressions
            is;<br>
            <br>
            <div style="margin-left: 40px;">
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.create</span></span> <span style="font-family: Courier New, Courier, monospace;">b1</span><span style="font-family: Courier New, Courier, monospace;">,
              b2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> %
              create bundles<span style="font-family: Courier New, Courier, monospace;"><br></span>
              <span style="font-family: Courier New, Courier, monospace;"><span style="font-family: Courier New, Courier, monospace;">
              b2.<span style="color: rgb(102, 0, 0);">k2</span> =
              <span style="color: rgb(0, 102, 0);">"Hello"</span></span><span style="font-family: Courier New, Courier, monospace;"><br>
              </span></span> <span style="font-family: Courier New, Courier, monospace;">b1.<span style="color: rgb(102, 0, 0);">k1</span>
              =
              b2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;
              % chain b1 to b<span style="font-family: Courier New, Courier, monospace;">2</span><span style="font-family: Courier New, Courier, monospace;"><br>

              <br></span> <span style="font-family: Courier New, Courier, monospace;">PRINT
              b1.<span style="color: rgb(102, 0, 0);">k1.k2</span>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              % access final key k2 "Hello"<br>
              <br>
              You can extend this key chain to any number of
              intermediate numeric bundle items.<br>
              The final key item can be either a number or a
              string.<br>
              <br>
            </div>Note that <span style="text-decoration: underline;">for Bundle Expressions,
            New Bundles are Not Auto-created</span>.<br>
            <div style="margin-left: 40px;">
              The nvar b1 itself might be auto-created BUT the
              bundle index (inside b1) is NOT auto-created.<br>
            </div>
            <div style="margin-left: 40px;">
              You must create new bundles with either bundle.create
              or bundle.put. (see <a href="#auto-create">Auto-create</a>)<br>
            </div>
            <div style="margin-left: 40px;">
              <br>
              If you do not create these bundles yourself, you will
              get an error;<br>
              <div style="margin-left: 40px;">
                e.g &nbsp; &nbsp; <span style="color: rgb(102, 0, 0);">"Invalid bundle expr:
                b1.k1 &gt; b1 has bad index&gt; 0"</span><br>
              </div>
            </div><br>
            For non-quoted bundle expressions, a dollar character (
            $ ) is allowed only for the <span style="text-decoration: underline;">last key</span>.<br>
            (this is mainly to accomodate bundle <a href="bundles.html#auto-mode">auto-mode</a>)<br>
            <div style="margin-left: 40px;">
              e.g<br>
              <div style="margin-left: 40px;">
                % (continue program from above)<br>
                <br>
              </div>
              <div style="margin-left: 40px;">
                <span style="font-family: Courier New, Courier, monospace;">b2.<span style="color: rgb(102, 0, 0);">k2$</span>
                = <span style="color: rgb(0, 102, 0);">"World"</span><br></span>
                <span style="font-family: Courier New, Courier, monospace;">PRINT
                b1.<span style="color: rgb(102, 0, 0);">k1.k2</span>;"
                ";</span><span style="font-family: Courier New, Courier, monospace;">b1.<span style="color: rgb(102, 0, 0);">k1.k2$</span></span>&nbsp;
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; % Hello
                World<br>
              </div>
            </div><br>
          </div>
          <div style="margin-left: 80px;"></div>
        </td>
      </tr>
      <tr>
        <td valign="top">
          <span style="color: rgb(0, 0, 153);"><font size="+1"><a name="auto-create" id="auto-create"></a>Auto-Create</font></span><br>
          <br>
          <div style="margin-left: 40px;">
            Bundles<br>
            <div style="margin-left: 40px;">
              For Bundle Expressions,<br>
              <div style="margin-left: 40px;">
                Bundle indexes cannot auto-create. The bundle must
                exist.<br>
                <br>
              </div>To create new bundles - use legacy methods;<br>
              <div style="margin-left: 40px;">
                Bundles can be created with bundle.create.<br>
                Bundles can also be auto-created with
                bundle.put<br>
              </div><br>
            </div>Keys<br>
            <div style="margin-left: 40px;">
              For Bundle Expressions,
            </div>
            <div style="margin-left: 80px;">
              Keys can be auto-created for an <span style="text-decoration: underline;">existing</span>
              bundle.<br>
              Auto-creation for keys can <span style="text-decoration: underline;">only</span> be done by
              LET or implicit-LET.<br>
              <br>
            </div>Key Types<br>
            <div style="margin-left: 40px;">
              For Bundle Expressions,
            </div>
            <div style="margin-left: 80px;">
              Key item Types can be changed from a number to string
              or vice-versa<br>
              by assignment or system commands.<br>
              eg.<br>
              <div style="margin-left: 40px;">
                <span style="font-family: Courier New, Courier, monospace;">bundle.create
                b</span><br>
                <span style="font-family: Courier New, Courier, monospace;">b.<span style="color: rgb(102, 0, 0);">key</span>
                = <span style="color: rgb(0, 102, 0);">"Test"</span></span><br>
                <span style="font-family: Courier New, Courier, monospace;">b.<span style="color: rgb(102, 0, 0);">key</span>
                = 99
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <span style="color: rgb(102, 102, 102);">% changed
                to number</span></span><br>
                <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
                SOCKET.MYIP</span> b.<span style="color: rgb(102, 0, 0);">key</span>&nbsp;&nbsp; %
                <span style="color: rgb(102, 102, 102);">changed to
                string</span></span><br>
                <span style="font-family: Courier New, Courier, monospace;">PRINT
                b.<span style="color: rgb(102, 0, 0);">key</span></span>
              </div>
            </div>Examples<br>
            <br>
            <div style="margin-left: 40px;">
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.create</span></span> <span style="font-family: Courier New, Courier, monospace;">b1</span><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% create the
              bundle index into b1</span><br>
              <span style="font-family: Courier New, Courier, monospace;">b1.<span style="color: rgb(102, 0, 0);">k1</span>
              =
              "Hello"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% keys (k1)
              can auto-create by LET</span><br>
              <br>
              Alternatively,<br>
              <br>
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              bundle.put</span></span> <span style="font-family: Courier New, Courier, monospace;">b1,<span style="color: rgb(153, 51, 0);">"k1"</span>,""</span><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% bundle.put
              can auto-create both b1 and <span style="text-decoration: underline;">it's index</span>, and
              k1</span><br>
              <span style="font-family: Courier New, Courier, monospace;">b1.<span style="color: rgb(102, 0, 0);">k1</span>
              =
              "Hello"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% keys can
              auto-create by LET</span><br>
            </div>
          </div><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top;">
          <font size="+1"><a name="passing" id="passing"></a>Parameter Passing<br></font><br>
          <div style="margin-left: 40px;">
            <span style="text-decoration: underline;">User Defined
            Functions</span><br>
            <div style="margin-left: 40px;">
              <br>
            </div>
          </div>
          <div style="margin-left: 80px;">
            Passing bundle expressions as arguments can only be
            <span style="text-decoration: underline;">called</span>
            <span style="text-decoration: underline;">by
            value</span>.<br>
            The bundle index and key must <span style="text-decoration: underline;">both exist</span>.<br>
            The <span style="text-decoration: underline;">value</span> will be
            passed to the local function parameter.<br>
            The key item Type must match the type of the receiving
            parameter.<br>
            Bundle Expressions cannot be used in FN.DEF receiving
            parameters.<br>
            <br>
            e.g<br>
            <div style="margin-left: 40px;">
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(102, 102, 102);">
              % fn.def
              f(b1.k1)</span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% FN.DEF&gt;
              Bundle expr <span style="color: rgb(102, 0, 0);">not
              allowed</span></span><br>
              <br>
              <span style="font-family: Courier New, Courier, monospace;">fn.def
              f(s$)</span><br>
              <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;
              fn.rtn len(s$)&nbsp;&nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% print length of
              string</span><br>
              <span style="font-family: Courier New, Courier, monospace;">fn.end</span><br>

              <br>
              <span style="font-family: Courier New, Courier, monospace;">b.<span style="color: rgb(102, 0, 0);">k1</span>
              = <span style="color: rgb(0, 102, 0);">"Test"</span></span><span style="font-family: Courier New, Courier, monospace;"><br>
              </span> <span style="font-family: Courier New, Courier, monospace;">b.<span style="color: rgb(102, 0, 0);">k2</span>
              = 99</span><br>
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(102, 102, 102);">
              % a = f(&amp;b.k1)</span>&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% Call by Ref
              &amp;bundle_expr <span style="color: rgb(102, 0, 0);">not
              allowed</span></span><br>
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(102, 102, 102);">
              % a = f(b.k2)</span>&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% Parameter <span style="color: rgb(102, 0, 0);">Types mismatch</span>
              at:</span><span style="font-family: Courier New, Courier, monospace;"><br>
              <br></span> <span style="color: rgb(0, 0, 153);"><span style="font-family: Courier New, Courier, monospace;">a =
              f(b.k1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>
              <span style="color: rgb(102, 102, 102);">% call by
              value only</span><br>
              <span style="font-family: Courier New, Courier, monospace;">PRINT
              a&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% 4.0</span><br>
            </div><br>
          </div>
          <div style="margin-left: 40px;">
            System Commands or Functions<br>
          </div>
          <div style="margin-left: 80px;">
            Passing bundle expressions as arguments may be called
            by value or reference<br>
            depending on the command or function.<br>
            <br>
            The value or reference will be passed to the command or
            function.<br>
            The bundle index and key must <span style="text-decoration: underline;">both exist</span>.<br>
            The key item Type <span style="text-decoration: underline;">might</span> be changed
            by the command or function.<br>
          </div>
          <div style="margin-left: 40px;">
            <div style="margin-left: 40px;">
              e.g<br>
            </div>
            <div style="margin-left: 80px;">
              <span style="font-family: Courier New, Courier, monospace;">bundle.create
              b</span><br>
              <span style="font-family: Courier New, Courier, monospace;">b.<span style="color: rgb(102, 0, 0);">key</span>
              = 99</span><br>
              <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
              SOCKET.MYIP</span> b.<span style="color: rgb(102, 0, 0);">key</span>&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% changed to
              string</span> <span style="color: rgb(102, 102, 102);">(call by
              reference)<br></span> <span style="font-family: Courier New, Courier, monospace;">PRINT
              b.<span style="color: rgb(102, 0, 0);">key</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <span style="color: rgb(102, 102, 102);">% is a
              string</span><span style="color: rgb(102, 102, 102);"><br></span>
            </div>
          </div><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top;">
          <font size="+1"><a name="example" id="example"></a><span style="color: rgb(0, 0, 153);">Example</span></font><br>
          <br>
          <div style="margin-left: 80px;">
            <span style="font-family: Courier New, Courier, monospace;">bundle.create
            location, contact, work<br></span><br style="color: rgb(0, 102, 0);">
            <span style="font-family: Courier New, Courier, monospace;">location.<span style="color: rgb(102, 0, 0);">area</span>
            = "Westminster"</span><br style="color: rgb(0, 102, 0);">
            <span style="font-family: Courier New, Courier, monospace;">location.<span style="color: rgb(102, 0, 0);">city</span>
            = "London"<br></span><br style="color: rgb(0, 102, 0);">
            <span style="font-family: Courier New, Courier, monospace;">contact.<span style="color: rgb(102, 0, 0);">name</span>
            = "John"</span><br style="color: rgb(0, 102, 0);">
            <span style="font-family: Courier New, Courier, monospace;">contact.<span style="color: rgb(102, 0, 0);">phone</span>
            = 55556666</span><br style="color: rgb(0, 102, 0);">
            <span style="font-family: Courier New, Courier, monospace;">contact.<span style="color: rgb(102, 0, 0);">assigned</span>
            = location&nbsp;&nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% chain to
            location</span><br>
            <br style="color: rgb(0, 102, 0);">
            <span style="font-family: Courier New, Courier, monospace;">work.<span style="color: rgb(102, 0, 0);">dog</span>
            = "humpty"</span><br>
            <span style="font-family: Courier New, Courier, monospace;">work.<span style="color: rgb(102, 0, 0);">sales</span>
            =
            contact&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% chain to
            contact</span><span style="font-family: Courier New, Courier, monospace;"><br></span><br style="color: rgb(0, 102, 0);">

            <span style="font-family: Courier New, Courier, monospace;">?
            work.<span style="color: rgb(102, 0, 0);">sales.name</span>;</span><br style="color: rgb(0, 0, 153);">

            <span style="font-family: Courier New, Courier, monospace;">? " to
            cover ";</span><br style="color: rgb(0, 0, 153);">
            <span style="font-family: Courier New, Courier, monospace;">?</span>
            <span style="font-family: Courier New, Courier, monospace;">work.<span style="color: rgb(102, 0, 0);">sales.assigned.area</span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% the key
            chain to area</span><span style="font-family: Courier New, Courier, monospace;"><br>
            <br style="color: rgb(0, 102, 0);"></span> <span style="font-family: Courier New, Courier, monospace;">! John
            to cover Westminster</span><br style="font-family: monospace; color: rgb(0, 102, 0);">
          </div><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top;"><br></td>
      </tr>
    </tbody>
  </table><br>
  <br>
  <hr>
  <script type="text/javascript" src="https://humpity.github.io/counter.js"></script>


</body></html>