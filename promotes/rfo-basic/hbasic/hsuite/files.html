<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta content="HTML Tidy for HTML5 for Linux version 5.6.0" name="generator">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Files</title>
  <link rel="stylesheet" href="main.css" type="text/css">
</head>
<body vlink="#990099" link="#000099" alink="#000099">
  <br>
  <a href="../hbasic.html">hBasic</a> &gt; <a href="index.html">hSuite</a> &gt; File Locations<br>
  <br style="font-family: Helvetica,Arial,sans-serif;">
  <table style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: left; width: 100%; font-family: Helvetica,Arial,sans-serif;" cellspacing="2" cellpadding="8">
    <tbody>
      <tr>
        <td style="vertical-align: top;">
          <div style="text-align: right;">
            <big>hSuite</big><br>
          </div><big><big style="color: rgb(0, 0, 153);">File
          Locations</big></big><br>
          <div style="margin-left: 120px;">
            <font size="+1">for hSuite Standalone Compilation<br>
            <br></font>
          </div>
          <table style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;" border="0">
            <tbody>
              <tr>
                <td><big><a href="#keys">About
                Assets</a></big><br></td>
                <td style="height: 1px;">The virtual file
                system.<br></td>
              </tr>
              <tr>
                <td height="1"><big><a href="#keystores">App
                Created Files</a></big></td>
                <td style="height: 1px;"><br></td>
              </tr>
              <tr>
                <td height="1"><a href="#creation"><big>Unsupported
                Features</big><br></a></td>
                <td height="1"><br></td>
              </tr>
              <tr>
                <td height="1"><big><a href="#twokeys"><br></a></big></td>
                <td height="1"><br></td>
              </tr>
              <tr>
                <td style="vertical-align: top;"><br></td>
                <td style="vertical-align: top;"><br></td>
              </tr>
            </tbody>
          </table><font size="+1" color="#000099"><br></font>
          <font size="+1" color="#000099"><a name="assets" id="keys"></a>About Assets</font><br>
          <div style="margin-left: 80px;">
            <br>
            All files that you need to exists 'before' you start
            your app must be under<br>
            <span style="color: rgb(102, 51, 0);">[source]</span> ,
            <span style="color: rgb(102, 51, 0);">[data]</span> ,
            or&nbsp; <span style="color: rgb(102, 51, 0);">[databases]</span> of you
            project base. These are called <span style="text-decoration: underline;">'supported'
            directories</span>.<br>
            <br>
            <span style="color: rgb(102, 51, 0);">[data]</span>&nbsp; and&nbsp;
            <span style="color: rgb(102, 51, 0);">[databases]</span>&nbsp; must
            be indicated via hSuite options.<br>
            All the above files are known as <span style="font-weight: bold;">Assets</span> files.<br>
            They are <span style="color: rgb(153, 0, 0);"><span style="text-decoration: underline;">read-only</span></span>
            and are embedded into the package as a virtual
            file-system.<br>
            It is basically a file that pretends to be a disk
            drive.<br>
            <br>
            Files outside these <span style="text-decoration: underline;">supported
            directories</span> will not get copied to assets, so
            will not exist before your app runs.<br>
            However, files outside supported directories can be
            created 'after' your app runs by your app code.<br>
            <br>
          </div><a name="app-created" id="keystores"></a>
          <font size="+1" color="#000099">App Created
          Files</font><br>
          <div style="margin-left: 80px;">
            Files can be created by your app code e.g using the
            TEXT and BYTE commands.<br>
            <br>
            App created files are more flexible. They are
            <span style="color: rgb(0, 51, 0);"><span style="text-decoration: underline;">writable</span></span>
            and can be put anywhere under the<br>
            <a href="../other/transfer.html#app_path">[app_path]</a>
            directory. This is the directory just above
            <span style="color: rgb(102, 51, 0);">[source],</span>
            <span style="color: rgb(102, 51, 0);">[data]</span> and
            <span style="color: rgb(102, 51, 0);">[databases].</span><br>
            ( In fact, you even have write-access to <span style="color: rgb(0, 0, 153);">[app_path]</span>'s parent
            [com.rfo.myApp] ) which is the start of <a href="../hmanual/package.html/scoped">scoped-storage</a>.<br>

            <br>
          </div><a name="app-created" id="keystores"></a>
          <font size="+1" color="#000099">Unsupported
          Features</font><br>
          <div style="margin-left: 40px;">
            <font size="+1" color="#000099"><br></font>
          </div>
          <div style="margin-left: 80px;">
            <font size="+1"><span style="text-decoration: underline;">Files to load at
            startup</span></font>
          </div>
          <div style="margin-left: 80px;">
            Legacy Basic and perhaps other apk makers have a
            feature that supports copying files from read-only assets to the file-system during
            apk creation. These files will be copied
            to external storage (sdcard) at <span style="text-decoration: underline;">every program
            startup</span>, overwriting any changes. This is
            undesirable in many situations.<br>
          </div>
          <div style="margin-left: 40px;">
            <br>
            <div style="margin-left: 40px;">
              hBasic does <span style="font-weight: bold;">not</span> support this feature,
              due to the confusion it creates.<br>
            </div>
            <div style="margin-left: 40px;">
              If you need files that need copying from assets to
              external storage (sdcard), then the program must do
              this itself using<br>
            </div>
          </div>
          <div style="margin-left: 80px;">
            <div style="margin-left: 40px;">
              <br>
            </div><span style="font-family: Courier New, Courier, monospace;">file.exists
            e, <span style="color: rgb(102, 51, 0);">"settings.dat"</span>&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% looks only on
            sdcard/data</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">if !e
            then&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span style="color: rgb(102, 102, 102);">% if not exist on sdcard
            /data</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;
            &nbsp;&nbsp; byte.open r,fv, <span style="color: rgb(102, 51, 0);">"settings.dat"</span>&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% get it from
            assets</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;
            &nbsp; &nbsp; if fv&lt;&gt;-1 then byte.copy
            fv,<span style="color: rgb(102, 51, 0);">"settings.dat"</span>&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% copy it to
            sdcard/data</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">endif</span><br>

            <br>
            <span style="text-decoration: underline;">The above manual method is much clearer and user-controllable</span>.<br>
            <br>
            <span style="font-family: Courier New, Courier, monospace;">File.Exists</span>
            only looks in file system. Does not look into
            /assets/<br>
            <span style="font-family: Courier New, Courier, monospace;">File.Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            first looks in the file system, if not found then looks
            in /assets/<br>
            <br>
            <span style="font-family: Courier New, Courier, monospace;"><span style="color: rgb(0, 0, 153);">
            file.exists</span> e, paths$&nbsp;&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% look only in
            the file system</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">if e
            then</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;
            print "file is on sdcard"</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span style="color: rgb(102, 102, 102);">% not in file
            system</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;
            <span style="color: rgb(0, 0, 153);">file.type</span>
            typ$, path$</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;
            if typ$="x" then</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;
            &nbsp; &nbsp; print "file does not exist
            anywhere"</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;
            else</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            print "file is in assets"</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;
            endif</span><span style="font-family: Courier New, Courier, monospace;"><br></span>
            <span style="font-family: Courier New, Courier, monospace;">endif</span><span style="font-family: Courier New, Courier, monospace;"><br>
            </span><br>
          </div>
          <div style="margin-left: 40px;"></div>
        </td>
      </tr>
      <tr>
        <td style="width: 50%;">-End.<br></td>
      </tr>
    </tbody>
  </table><br>
  <script type="text/javascript" src="https://humpity.github.io/counter.js"></script>


</body></html>